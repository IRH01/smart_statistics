<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="infoDomainStatD">


    <resultMap type="InfoDomainStatD" id="infoDomainStatDMapper">
        <result column="etl_date" property="etlDate"/>
        <result column="position_id" property="positionId"/>
        <result column="click_cnt" property="clickCnt"/>
        <result column="stay_cnt" property="stayCnt"/>
        <result column="ip_cnt" property="ipCnt"/>
        <result column="info_cnt" property="infoCnt"/>
        <result column="create_date" property="createDate"/>
        <result column="updated_date" property="updateDate"/>


    </resultMap>

    <select id="findByDate" parameterType="map" resultMap="infoDomainStatDMapper">
        select
        d.etl_date,d.position_id,d.click_cnt,d.stay_cnt,d.ip_cnt,d.info_cnt,d.create_date,d.updated_date
        from tbl_dm_info_domain_stat_d d
        where d.position_id = #{domain} and date_format(d.etl_date,'%Y-%m-%d') between #{startDate} and #{endDate}
    </select>

</mapper>